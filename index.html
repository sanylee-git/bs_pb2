<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ìƒí˜„ ë‹®ì€ê¼´ ì°¾ê¸° | ê·€ë©¸ì˜ ì¹¼ë‚  AI ë¶„ì„ê¸°</title>
  <meta name="description" content="ê·€ë©¸ì˜ ì¹¼ë‚  ìƒí˜„ ë‹®ì€ê¼´ AI ë¶„ì„ê¸°! ë‚´ ì–¼êµ´ì´ ì½”ì¿ ì‹œë³´Â·ë„ìš°ë§ˆÂ·ì•„ì¹´ì ë“± ì–´ë–¤ ìƒí˜„ ê·€ì‹ ê³¼ ë‹®ì•˜ëŠ”ì§€ AIë¡œ ë¶„ì„í•´ë³´ì„¸ìš”. ì›¹ìº  ë˜ëŠ” ì‚¬ì§„ ì—…ë¡œë“œ ì§€ì›.">
  <meta property="og:title" content="ê·€ë©¸ì˜ ì¹¼ë‚  ìƒí˜„ ë‹®ì€ê¼´ AI ë¶„ì„ê¸°">
  <meta property="og:description" content="ë‹¹ì‹ ì€ ì–´ë–¤ ìƒí˜„ì„ ë‹®ì•˜ì„ê¹Œ? AIë¡œ ë¶„ì„í•´ë³´ì„¸ìš”!">
  <meta property="og:type" content="website">
  <link rel="canonical" href="https://bs-pb2.web.app/">
  <meta name="google-adsense-account" content="ca-pub-9688338422874533">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9688338422874533" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&family=Cinzel+Decorative:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>
  <style>
    /* â”€â”€ index ì „ìš© ìŠ¤íƒ€ì¼ â”€â”€ */
    .wrapper {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: calc(var(--nav-h) + 32px) 16px 0;
    }

    /* í—¤ë” */
    .site-header {
      width: 100%;
      text-align: center;
      padding: 32px 20px 16px;
    }
    .header-deco {
      font-family: 'Cinzel Decorative', cursive;
      font-size: clamp(10px, 2vw, 12px);
      letter-spacing: 6px;
      color: var(--gold);
      text-transform: uppercase;
      opacity: 0.8;
      margin-bottom: 12px;
      animation: fadeSlideDown 0.9s ease both;
    }
    .title-jp {
      font-size: clamp(30px, 7vw, 58px);
      font-weight: 900;
      line-height: 1.05;
      letter-spacing: 2px;
      background: linear-gradient(135deg, #ffffff 0%, var(--gold) 50%, var(--crimson) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      filter: drop-shadow(0 0 20px rgba(192,57,43,0.5));
      animation: fadeSlideDown 0.9s 0.08s ease both;
    }
    .title-sub {
      font-size: clamp(13px, 2.5vw, 17px);
      color: rgba(255,255,255,0.5);
      letter-spacing: 3px;
      margin-top: 10px;
      animation: fadeSlideDown 0.9s 0.16s ease both;
    }
    .badge-row {
      display: flex;
      justify-content: center;
      gap: 6px;
      margin-top: 16px;
      flex-wrap: wrap;
      animation: fadeSlideDown 0.9s 0.24s ease both;
    }
    .badge {
      font-size: 11px;
      padding: 4px 12px;
      border-radius: 20px;
      border: 1px solid rgba(192,57,43,0.5);
      background: rgba(192,57,43,0.1);
      color: #ff8a80;
      letter-spacing: 2px;
    }
    .divider {
      width: min(500px, 90%);
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--crimson), var(--gold), var(--crimson), transparent);
      margin: 24px auto;
      animation: fadeSlideDown 0.9s 0.28s ease both;
    }

    /* â”€â”€ AI ë„êµ¬ ì¹´ë“œ â”€â”€ */
    .main-card {
      background: var(--card-bg);
      border: 1px solid rgba(192,57,43,0.3);
      border-radius: 24px;
      padding: 28px 24px;
      width: min(520px, 100%);
      box-shadow:
        0 0 60px rgba(192,57,43,0.1),
        0 0 120px rgba(92,10,138,0.08),
        inset 0 1px 0 rgba(255,255,255,0.05);
      backdrop-filter: blur(20px);
      animation: fadeSlideUp 0.9s 0.32s ease both;
      position: relative;
    }

    /* ìŠ¤ìº” í”„ë ˆì„ */
    .scan-frame {
      position: relative;
      width: 240px;
      height: 240px;
      margin: 0 auto 22px;
    }
    .scan-frame::before, .scan-frame::after,
    .scan-inner::before, .scan-inner::after {
      content: '';
      position: absolute;
      width: 24px; height: 24px;
      border-color: var(--gold);
      border-style: solid;
    }
    .scan-frame::before { top:0; left:0;  border-width:3px 0 0 3px; border-radius:4px 0 0 0; }
    .scan-frame::after  { top:0; right:0; border-width:3px 3px 0 0; border-radius:0 4px 0 0; }
    .scan-inner::before { bottom:0; left:0;  border-width:0 0 3px 3px; border-radius:0 0 0 4px; }
    .scan-inner::after  { bottom:0; right:0; border-width:0 3px 3px 0; border-radius:0 0 4px 0; }
    .scan-inner { position: absolute; inset: 0; }

    .ring {
      position: absolute;
      inset: -12px;
      border-radius: 50%;
      border: 1.5px solid transparent;
      border-top-color: var(--crimson);
      border-right-color: var(--gold);
      animation: spin 3s linear infinite;
      opacity: 0;
      transition: opacity 0.4s;
    }
    .ring-2 {
      inset: -20px;
      border-top-color: var(--purple);
      border-bottom-color: var(--crimson);
      animation: spin 5s linear infinite reverse;
    }
    .scanning .ring { opacity: 1; }

    #webcam-container {
      width: 220px; height: 220px;
      overflow: hidden;
      border-radius: 16px;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #webcam-container canvas,
    #webcam-container video,
    #preview-img {
      width: 220px; height: 220px;
      object-fit: cover;
      border-radius: 16px;
    }

    .cam-placeholder {
      display: flex; flex-direction: column;
      align-items: center; gap: 10px;
      color: rgba(255,255,255,0.3);
      font-size: 13px; text-align: center;
    }
    .cam-placeholder svg { width: 48px; height: 48px; opacity: 0.3; }

    .scan-line {
      position: absolute;
      left: 8px; right: 8px; height: 2px;
      background: linear-gradient(90deg, transparent, var(--crimson), rgba(255,0,0,0.8), var(--crimson), transparent);
      top: 8px;
      animation: scanLine 2s ease-in-out infinite;
      opacity: 0;
      border-radius: 1px;
      box-shadow: 0 0 8px var(--crimson);
    }
    .scanning .scan-line { opacity: 1; }

    /* íƒ­ */
    .mode-tabs {
      display: flex; gap: 8px;
      margin-bottom: 18px;
      background: rgba(255,255,255,0.04);
      border-radius: 12px; padding: 4px;
    }
    .tab-btn {
      flex: 1; padding: 10px;
      border: none; border-radius: 9px;
      background: transparent;
      color: rgba(255,255,255,0.45);
      font-family: 'Noto Sans KR', sans-serif;
      font-size: 13px; cursor: pointer;
      transition: all 0.25s; letter-spacing: 1px;
      min-height: 44px;
    }
    .tab-btn.active {
      background: linear-gradient(135deg, var(--deep-crimson), var(--purple));
      color: #fff;
      box-shadow: 0 2px 12px rgba(192,57,43,0.4);
    }

    /* ë²„íŠ¼ */
    .btn-group { display: flex; gap: 10px; margin-top: 20px; }
    .btn-main {
      flex: 1; padding: 14px;
      border: none; border-radius: 12px;
      font-family: 'Noto Sans KR', sans-serif;
      font-size: 14px; font-weight: 700;
      letter-spacing: 2px; cursor: pointer;
      position: relative; overflow: hidden;
      transition: all 0.3s; min-height: 50px;
    }
    .btn-main::before {
      content: '';
      position: absolute; inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.15), transparent);
      opacity: 0; transition: opacity 0.3s;
    }
    .btn-main:hover::before { opacity: 1; }
    .btn-main:active { transform: scale(0.97); }
    .btn-scan {
      background: linear-gradient(135deg, #8b0000 0%, #c0392b 50%, #8b0000 100%);
      background-size: 200% 100%;
      color: #fff;
      box-shadow: 0 4px 20px rgba(192,57,43,0.5);
      animation: shimmer 3s linear infinite;
    }
    .btn-scan:hover { box-shadow: 0 6px 28px rgba(192,57,43,0.7); transform: translateY(-1px); }
    .btn-scan:disabled { opacity: 0.4; cursor: not-allowed; transform: none; animation: none; }
    .btn-reset {
      background: rgba(255,255,255,0.07);
      color: rgba(255,255,255,0.6);
      border: 1px solid rgba(255,255,255,0.1);
      flex: 0 0 auto; padding: 14px 18px; font-size: 18px;
    }
    .btn-reset:hover { background: rgba(255,255,255,0.12); color: #fff; }

    /* ì—…ë¡œë“œ */
    .upload-area {
      border: 2px dashed rgba(192,57,43,0.35);
      border-radius: 14px; padding: 28px;
      text-align: center; cursor: pointer;
      transition: all 0.3s;
      background: rgba(192,57,43,0.04); display: none;
    }
    .upload-area.active-tab { display: block; }
    .upload-area:hover { border-color: var(--crimson); background: rgba(192,57,43,0.08); }
    .upload-area svg { width: 36px; height: 36px; color: var(--crimson); margin-bottom: 8px; }
    .upload-area p { font-size: 13px; color: rgba(255,255,255,0.5); }
    .upload-area p strong { color: var(--gold); }
    #file-input { display: none; }

    /* ë¡œë”© */
    .loading-overlay {
      position: absolute; inset: 0;
      background: rgba(5,5,15,0.88);
      border-radius: 24px;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center; gap: 14px;
      z-index: 10; opacity: 0; pointer-events: none; transition: opacity 0.3s;
    }
    .loading-overlay.show { opacity: 1; pointer-events: all; }
    .spinner {
      width: 40px; height: 40px;
      border: 3px solid rgba(192,57,43,0.2);
      border-top-color: var(--crimson);
      border-right-color: var(--gold);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    .loading-text { font-size: 12px; letter-spacing: 3px; color: rgba(255,255,255,0.5); }

    /* ê²°ê³¼ */
    #result-section { width: min(520px, 100%); margin-top: 18px; display: none; }
    #result-section.show { display: block; animation: fadeSlideUp 0.6s ease both; }

    .result-hero {
      background: var(--card-bg);
      border: 1px solid rgba(240,192,64,0.3);
      border-radius: 20px; padding: 26px;
      text-align: center;
      backdrop-filter: blur(20px);
      margin-bottom: 14px;
      animation: pulseGlow 3s ease-in-out infinite;
    }
    .demon-eye { width: 60px; height: 60px; margin: 0 auto 14px; }
    .demon-eye svg { width: 100%; height: 100%; }
    .result-label { font-size: 11px; letter-spacing: 4px; color: var(--gold); opacity: 0.8; margin-bottom: 8px; }
    .result-name {
      font-size: clamp(28px, 7vw, 42px); font-weight: 900;
      background: linear-gradient(135deg, #fff 0%, var(--gold) 60%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
      filter: drop-shadow(0 0 16px rgba(240,192,64,0.4));
      letter-spacing: 3px; margin-bottom: 4px;
    }
    .result-rank { font-size: 13px; color: var(--crimson); letter-spacing: 3px; margin-bottom: 18px; }
    .result-desc { font-size: 13px; color: rgba(255,255,255,0.55); line-height: 1.7; max-width: 320px; margin: 0 auto 18px; }
    .result-score-big { font-size: 52px; font-weight: 900; color: var(--gold); text-shadow: 0 0 30px rgba(240,192,64,0.5); line-height: 1; }
    .result-score-label { font-size: 11px; color: rgba(255,255,255,0.4); letter-spacing: 2px; margin-top: 4px; }

    .all-results {
      background: var(--card-bg);
      border: 1px solid rgba(192,57,43,0.2);
      border-radius: 20px; padding: 22px;
      backdrop-filter: blur(20px);
    }
    .all-results h3 { font-size: 11px; letter-spacing: 4px; color: rgba(255,255,255,0.4); margin-bottom: 16px; text-transform: uppercase; }
    .pred-row { display: flex; align-items: center; gap: 12px; margin-bottom: 13px; }
    .pred-row:last-child { margin-bottom: 0; }
    .pred-name { font-size: 13px; font-weight: 700; min-width: 72px; color: rgba(255,255,255,0.85); }
    .pred-bar-wrap { flex: 1; height: 6px; background: rgba(255,255,255,0.07); border-radius: 3px; overflow: hidden; }
    .pred-bar { height: 100%; border-radius: 3px; transition: width 0.8s cubic-bezier(0.16,1,0.3,1); width: 0%; }
    .pred-bar.top { background: linear-gradient(90deg, var(--deep-crimson), var(--gold)); box-shadow: 0 0 8px rgba(240,192,64,0.4); }
    .pred-bar.other { background: linear-gradient(90deg, rgba(92,10,138,0.8), rgba(192,57,43,0.6)); }
    .pred-pct { font-size: 12px; color: rgba(255,255,255,0.5); min-width: 38px; text-align: right; }
    .pred-pct.top { color: var(--gold); font-weight: 700; }

    /* ìƒíƒœ ë©”ì‹œì§€ */
    #status-msg { text-align: center; font-size: 12px; color: rgba(255,255,255,0.3); margin-top: 12px; letter-spacing: 1px; min-height: 18px; }

    /* â”€â”€ ì½˜í…ì¸  ì„¹ì…˜ (ê°€ì´ë“œ) â”€â”€ */
    .guide-section {
      width: min(760px, 100%);
      margin-top: 50px;
    }
    .guide-title {
      text-align: center;
      font-size: clamp(18px, 4vw, 26px);
      font-weight: 900;
      color: var(--gold);
      letter-spacing: 2px;
      margin-bottom: 6px;
    }
    .guide-title-sub {
      text-align: center;
      font-size: 13px;
      color: rgba(255,255,255,0.35);
      letter-spacing: 2px;
      margin-bottom: 28px;
    }
    .guide-card {
      background: var(--card-bg);
      border: 1px solid rgba(192,57,43,0.2);
      border-radius: 20px;
      padding: 26px 24px;
      margin-bottom: 16px;
      backdrop-filter: blur(16px);
    }
    .guide-card h2 {
      font-size: 16px; font-weight: 700;
      color: #fff;
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(192,57,43,0.2);
      display: flex; align-items: center; gap: 8px;
    }
    .guide-card h2 .rank-badge {
      font-size: 10px;
      padding: 2px 10px;
      border-radius: 20px;
      background: rgba(192,57,43,0.2);
      color: #ff8a80;
      letter-spacing: 1px;
      font-weight: 500;
    }
    .guide-card p {
      font-size: 14px;
      color: rgba(255,255,255,0.6);
      line-height: 1.85;
    }
    .char-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 14px;
      margin-bottom: 16px;
    }

    /* How-to ì„¹ì…˜ */
    .how-to { display: flex; flex-direction: column; gap: 12px; }
    .how-step {
      display: flex; align-items: flex-start; gap: 14px;
    }
    .step-num {
      flex-shrink: 0;
      width: 32px; height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--deep-crimson), var(--crimson));
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700; color: #fff;
    }
    .step-text { font-size: 14px; color: rgba(255,255,255,0.65); line-height: 1.7; }
    .step-text strong { color: #fff; }

    /* FAQ */
    .faq-item { margin-bottom: 20px; }
    .faq-item:last-child { margin-bottom: 0; }
    .faq-q { font-size: 14px; font-weight: 700; color: var(--gold); margin-bottom: 6px; }
    .faq-a { font-size: 13px; color: rgba(255,255,255,0.6); line-height: 1.8; }

    /* Disqus */
    .disqus-wrap {
      width: min(760px, 100%);
      background: var(--card-bg);
      border: 1px solid rgba(192,57,43,0.2);
      border-radius: 20px;
      padding: 28px 24px;
      margin-top: 16px;
      backdrop-filter: blur(16px);
    }
    .disqus-title {
      font-size: 14px; font-weight: 700;
      color: rgba(255,255,255,0.5);
      letter-spacing: 3px; text-transform: uppercase;
      margin-bottom: 20px;
    }

    /* â”€â”€ ì• ë‹ˆë©”ì´ì…˜ â”€â”€ */
    @keyframes fadeSlideDown {
      from { opacity: 0; transform: translateY(-18px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes fadeSlideUp {
      from { opacity: 0; transform: translateY(22px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes shimmer {
      0%   { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    @keyframes scanLine {
      0%   { top: 8px; }
      50%  { top: calc(100% - 8px); }
      100% { top: 8px; }
    }
    @keyframes pulseGlow {
      0%,100% { box-shadow: 0 0 40px rgba(240,192,64,0.08), 0 0 80px rgba(192,57,43,0.06); }
      50%      { box-shadow: 0 0 60px rgba(240,192,64,0.18), 0 0 100px rgba(192,57,43,0.12); }
    }

    /* â”€â”€ ëª¨ë°”ì¼ ìµœì í™” â”€â”€ */
    @media (max-width: 480px) {
      .wrapper { padding-top: calc(var(--nav-h) + 16px); padding-left: 12px; padding-right: 12px; }
      .main-card { padding: 20px 16px; }
      .scan-frame { width: 200px; height: 200px; }
      #webcam-container { width: 180px; height: 180px; }
      #webcam-container canvas,
      #webcam-container video,
      #preview-img { width: 180px; height: 180px; }
      .guide-card { padding: 20px 16px; }
      .char-grid { grid-template-columns: 1fr; }
      .btn-main { font-size: 13px; }
      .disqus-wrap { padding: 20px 16px; }
    }
    @media (max-width: 360px) {
      .title-jp { font-size: 26px; }
      .scan-frame { width: 180px; height: 180px; }
      #webcam-container, #webcam-container canvas,
      #webcam-container video, #preview-img { width: 160px; height: 160px; }
    }
  </style>
</head>
<body>

  <canvas id="bg-canvas"></canvas>

  <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
  <nav class="site-nav">
    <div class="nav-inner">
      <a class="nav-logo" href="/">é¬¼æ»… ä¸Šå¼¦</a>
      <div class="nav-links">
        <a href="/" class="active">í™ˆ</a>
        <a href="/about.html">ì†Œê°œ</a>
        <a href="/contact.html">ë¬¸ì˜</a>
        <a href="/privacy.html">ê°œì¸ì •ë³´</a>
      </div>
      <button class="nav-hamburger" aria-label="ë©”ë‰´ ì—´ê¸°" onclick="toggleNav()">â˜°</button>
    </div>
    <div class="nav-mobile" id="nav-mobile">
      <a href="/" class="active">í™ˆ</a>
      <a href="/about.html">ì†Œê°œ</a>
      <a href="/contact.html">ë¬¸ì˜</a>
      <a href="/privacy.html">ê°œì¸ì •ë³´</a>
    </div>
  </nav>

  <div class="wrapper">

    <!-- í—¤ë” -->
    <header class="site-header">
      <div class="header-deco">Demon Slayer Â· Upper Moon</div>
      <h1 class="title-jp">é¬¼æ»…ã®åˆƒ<br>ìƒí˜„ ë‹®ì€ê¼´</h1>
      <p class="title-sub">ë‹¹ì‹ ì€ ì–´ë–¤ ìƒí˜„ì„ ë‹®ì•˜ì„ê¹Œ?</p>
      <div class="badge-row">
        <span class="badge">ìƒí˜„ å£±</span>
        <span class="badge">ìƒí˜„ å¼</span>
        <span class="badge">ìƒí˜„ å‚</span>
        <span class="badge">ìƒí˜„ è‚†</span>
        <span class="badge">ìƒí˜„ ä¼</span>
        <span class="badge">ìƒí˜„ é™¸</span>
      </div>
    </header>

    <div class="divider"></div>

    <!-- AI ë¶„ì„ ì¹´ë“œ -->
    <div class="main-card">
      <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">ëª¨ë¸ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
      </div>

      <div class="mode-tabs">
        <button class="tab-btn active" id="tab-cam" onclick="switchTab('cam')">ğŸ“· ì¹´ë©”ë¼</button>
        <button class="tab-btn" id="tab-upload" onclick="switchTab('upload')">ğŸ–¼ï¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ</button>
      </div>

      <div class="scan-frame" id="scan-frame">
        <div class="scan-inner">
          <div class="ring"></div>
          <div class="ring ring-2"></div>
          <div class="scan-line"></div>
          <div id="webcam-container">
            <div class="cam-placeholder" id="cam-placeholder">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                <circle cx="12" cy="13" r="4"/>
              </svg>
              <span>ì¹´ë©”ë¼ë¥¼ ì‹œì‘í•˜ì„¸ìš”</span>
            </div>
          </div>
        </div>
      </div>

      <div class="upload-area" id="upload-area" onclick="document.getElementById('file-input').click()">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
          <polyline points="17 8 12 3 7 8"/>
          <line x1="12" y1="3" x2="12" y2="15"/>
        </svg>
        <p><strong>í´ë¦­</strong>í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸ &amp; ë“œë¡­</p>
        <p style="margin-top:5px;font-size:11px;">JPG Â· PNG Â· WEBP ì§€ì›</p>
        <input type="file" id="file-input" accept="image/*" onchange="onFileSelect(event)">
        <img id="preview-img" style="display:none;margin-top:14px;border-radius:12px;max-height:200px;object-fit:cover;width:100%;">
      </div>

      <div class="btn-group">
        <button class="btn-main btn-scan" id="start-btn" onclick="handleStart()" disabled>âš¡ ë¶„ì„ ì‹œì‘</button>
        <button class="btn-main btn-reset" title="ì´ˆê¸°í™”" onclick="resetAll()">â†º</button>
      </div>

      <p id="status-msg">ëª¨ë¸ì„ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>

    <!-- ê²°ê³¼ ì„¹ì…˜ -->
    <div id="result-section">
      <div class="result-hero">
        <div class="demon-eye">
          <svg viewBox="0 0 60 60" fill="none">
            <ellipse cx="30" cy="30" rx="28" ry="16" fill="rgba(192,57,43,0.15)" stroke="rgba(192,57,43,0.5)" stroke-width="1.5"/>
            <ellipse cx="30" cy="30" rx="12" ry="12" fill="#1a0010" stroke="rgba(192,57,43,0.8)" stroke-width="1"/>
            <ellipse cx="30" cy="30" rx="7" ry="7" fill="#c0392b" opacity="0.9"/>
            <ellipse cx="30" cy="30" rx="3.5" ry="3.5" fill="#0a0005"/>
            <ellipse cx="32" cy="28" rx="1.5" ry="1.5" fill="rgba(255,255,255,0.6)"/>
            <text x="30" y="33" text-anchor="middle" font-size="5" fill="rgba(240,192,64,0.7)" font-family="serif">ä¸Šå¼¦</text>
          </svg>
        </div>
        <div class="result-label">ë‹¹ì‹ ê³¼ ë‹®ì€ ìƒí˜„</div>
        <div class="result-name" id="result-name">â€”</div>
        <div class="result-rank" id="result-rank"></div>
        <div class="result-desc" id="result-desc"></div>
        <div class="result-score-big" id="result-score">0%</div>
        <div class="result-score-label">ìœ ì‚¬ë„</div>
      </div>
      <div class="all-results">
        <h3>ì „ì²´ ë¶„ì„ ê²°ê³¼</h3>
        <div id="label-container"></div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         ì½˜í…ì¸  ê°€ì´ë“œ ì„¹ì…˜ (800ë‹¨ì–´ ì´ìƒ)
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section class="guide-section">

      <!-- ì´ìš© ë°©ë²• -->
      <div class="guide-card">
        <h2>âš¡ ì´ìš© ë°©ë²•</h2>
        <div class="how-to">
          <div class="how-step">
            <div class="step-num">1</div>
            <div class="step-text"><strong>ì¹´ë©”ë¼ íƒ­</strong> ì„ íƒ í›„ 'ë¶„ì„ ì‹œì‘'ì„ í´ë¦­í•˜ë©´ ì›¹ìº ì´ í™œì„±í™”ë©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì˜ ì¹´ë©”ë¼ ì ‘ê·¼ í—ˆìš©ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>
          </div>
          <div class="how-step">
            <div class="step-num">2</div>
            <div class="step-text">ì–¼êµ´ì´ <strong>í”„ë ˆì„ ì¤‘ì•™</strong>ì— ì˜¤ë„ë¡ ìœ„ì¹˜ë¥¼ ì¡°ì ˆí•˜ì„¸ìš”. ë°ì€ ì¡°ëª…ì´ ìˆëŠ” í™˜ê²½ì—ì„œ ë” ì •í™•í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
          </div>
          <div class="how-step">
            <div class="step-num">3</div>
            <div class="step-text"><strong>'ìŠ¤ëƒ…ìƒ· ì°ê¸°'</strong>ë¥¼ ëˆ„ë¥´ë©´ í•´ë‹¹ ìˆœê°„ì˜ ì´ë¯¸ì§€ë¥¼ AIê°€ ë¶„ì„í•©ë‹ˆë‹¤. ê²°ê³¼ê°€ ì•„ë˜ì— í‘œì‹œë©ë‹ˆë‹¤.</div>
          </div>
          <div class="how-step">
            <div class="step-num">4</div>
            <div class="step-text"><strong>ì´ë¯¸ì§€ ì—…ë¡œë“œ íƒ­</strong>ì—ì„œëŠ” ì‚¬ì§„ íŒŒì¼ì„ ë“œë˜ê·¸&amp;ë“œë¡­í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë°”ì¼ì—ì„œëŠ” ê°¤ëŸ¬ë¦¬ ì‚¬ì§„ì„ ë°”ë¡œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
          </div>
          <div class="how-step">
            <div class="step-num">5</div>
            <div class="step-text">ë¶„ì„ ê²°ê³¼ë¡œ <strong>ê°€ì¥ ë‹®ì€ ìƒí˜„ ìºë¦­í„°</strong>ì™€ ê° ìºë¦­í„°ë³„ ìœ ì‚¬ë„ í¼ì„¼íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤. ê²°ê³¼ë¥¼ ìŠ¤í¬ë¦°ìƒ· ì°ì–´ ì¹œêµ¬ì™€ ê³µìœ í•´ë³´ì„¸ìš”!</div>
          </div>
        </div>
      </div>

      <!-- ìƒí˜„ì´ë€? -->
      <div class="guide-card">
        <h2>ğŸ‘ï¸ ìƒí˜„(ä¸Šå¼¦)ì´ë€?</h2>
        <p>
          ê·€ë©¸ì˜ ì¹¼ë‚ ì—ì„œ <strong>ìƒí˜„(ä¸Šå¼¦)</strong>ì€ ê·€ì‹ ë“¤ì˜ ì™• í‚¤ë¶€ì¸ ì§€ ë¬´ì”ì˜ ì¹œìœ„ëŒ€ë¼ í•  ìˆ˜ ìˆëŠ”
          ìµœê°•ì˜ ê·€ì‹  ì§‘ë‹¨ì´ë‹¤. ìƒí˜„ ì¼(å£±)ë¶€í„° ìƒí˜„ ìœ¡(é™¸)ê¹Œì§€ ì´ 6ë“±ê¸‰ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆìœ¼ë©°,
          ìˆ«ìê°€ ë‚®ì„ìˆ˜ë¡ ë” ê°•ë ¥í•œ ê·€ì‹ ì„ì„ ì˜ë¯¸í•œë‹¤.
        </p>
        <p>
          ìƒí˜„ë“¤ì€ ì¼ë°˜ ê·€ì‹ ê³¼ëŠ” ì°¨ì›ì´ ë‹¤ë¥¸ ì „íˆ¬ë ¥ì„ ë³´ìœ í•˜ê³  ìˆìœ¼ë©°, ê°ì ê³ ìœ í•œ
          <strong>í˜ˆê·€ìˆ (è¡€é¬¼è¡“)</strong>ì´ë¼ ë¶ˆë¦¬ëŠ” íŠ¹ìˆ˜ ëŠ¥ë ¥ì„ êµ¬ì‚¬í•œë‹¤. ì´ë“¤ì€ ìˆ˜ë°± ë…„ì— ê±¸ì³
          ì¸ê°„ì˜ í”¼ë¥¼ í¡ìˆ˜í•˜ë©° ì‚´ì•„ë‚¨ì€ ì¡´ì¬ë“¤ë¡œ, ì¸ê°„ì˜ ê°ì •ê³¼ ê¸°ì–µ, ê³¼ê±°ì˜ ìƒì²˜ë¥¼ ì—¬ì „íˆ ì•ˆê³  ì‚´ì•„ê°„ë‹¤.
        </p>
        <p>
          ê·€ì‚´ëŒ€(é¬¼æ®ºéšŠ)ì˜ í•µì‹¬ ì „ë ¥ì¸ ê¸°ë‘¥(æŸ±)ë“¤ë„ ìƒí˜„ê³¼ ë§ë¶™ìœ¼ë©´ ëª©ìˆ¨ì„ ìƒì„ ìˆ˜ ìˆì„ ë§Œí¼
          ì••ë„ì ì¸ ê°•í•¨ì„ ìë‘í•œë‹¤. ì‹œë¦¬ì¦ˆ ì „ë°˜ì— ê±¸ì³ ìµœê°•ì˜ ë¹ŒëŸ°ìœ¼ë¡œ êµ°ë¦¼í•˜ë©°
          íŒ¬ë“¤ì—ê²Œ ê°•ë ¬í•œ ì¸ìƒì„ ë‚¨ê¸´ ê·€ë©¸ì˜ ì¹¼ë‚  ìµœê³  ì¸ê¸° ìºë¦­í„° ê·¸ë£¹ì´ê¸°ë„ í•˜ë‹¤.
        </p>
      </div>

      <!-- ìºë¦­í„° ì¹´ë“œ ê·¸ë¦¬ë“œ -->
      <p class="guide-title" style="margin-top:8px;">ìƒí˜„ ìºë¦­í„° ê°€ì´ë“œ</p>
      <p class="guide-title-sub">Upper Moon Character Encyclopedia</p>

      <div class="char-grid">

        <div class="guide-card">
          <h2>ì½”ì¿ ì‹œë³´ <span class="rank-badge">ìƒí˜„ å£±</span></h2>
          <p>
            ë¬´ì”ì„ ì œì™¸í•œ <strong>ê·€ì‹  ì¤‘ ìµœê°•</strong>ì˜ ì¡´ì¬. ë³¸ëª…ì€ ë¯¸ì¹˜ì¹´ì¸  ì¸ ê¸°ì¿ ë‹ˆë¡œ,
            ê·€ì‚´ëŒ€ ì—­ì‚¬ìƒ ê°€ì¥ ìœ„ëŒ€í•œ ê²€ì‚¬ ìš”ë¦¬ì´ì¹˜ ì¸ ê¸°ì¿ ë‹ˆì˜ ìŒë‘¥ì´ í˜•ì´ë‹¤.
            ë›°ì–´ë‚œ í˜•ì— ëŒ€í•œ ì—´ë“±ê°ìœ¼ë¡œ ìŠ¤ìŠ¤ë¡œ ê·€ì‹ ì´ ë˜ê¸°ë¥¼ ì„ íƒí•œ ë¹„ê·¹ì  ì¸ë¬¼.
            ìŠ¤ìŠ¤ë¡œ ì°½ì‹œí•œ <strong>ë‹¬ì˜ í˜¸í¡(æœˆã®å‘¼å¸)</strong>ê³¼ ì—¬ì„¯ ê°œì˜ ëˆˆ,
            ì˜¨ëª¸ì— ë‹ì•„ë‚œ ì¹¼ë‚ ì´ íŠ¹ì§•ìœ¼ë¡œ, ì„¸ ëª…ì˜ ê¸°ë‘¥ì´ í•©ë ¥í•´ë„ ì‰½ê²Œ ì“°ëŸ¬ëœ¨ë¦¬ê¸° ì–´ë µë‹¤.
          </p>
        </div>

        <div class="guide-card">
          <h2>ë„ìš°ë§ˆ <span class="rank-badge">ìƒí˜„ å¼</span></h2>
          <p>
            ë¬´ì§€ê°œìƒ‰ ëˆˆì„ ê°€ì§„ ë¯¸í˜•ì˜ ê·€ì‹ . ì¸ê°„ ì‹œì ˆë¶€í„° <strong>ì–´ë–¤ ê°ì •ë„ ëŠë¼ì§€ ëª»í•˜ëŠ”</strong>
            ê³µí—ˆí•œ ì˜í˜¼ì˜ ì†Œìœ ìë¡œ, í—ˆë¬´ì£¼ì˜ì  ì„¸ê³„ê´€ì„ ê°€ì§„ë‹¤.
            í™”ë ¤í•œ ë¶€ì±„ë¡œ ì–¼ìŒê³¼ ëƒ‰ê¸°ë¥¼ ììœ ìì¬ë¡œ ë‹¤ë£¨ëŠ” í˜ˆê·€ìˆ ì„ êµ¬ì‚¬í•œë‹¤.
            ê²‰ìœ¼ë¡œëŠ” ì˜¨í™”í•˜ê³  ë§¤ë ¥ì ì´ì§€ë§Œ ì¸ê°„ì„ ë‹¨ìˆœí•œ ì‹ì‚¬ë¡œ ì—¬ê¸°ëŠ” ì”í˜¹í•œ ë³¸ì„±ì„ ì§€ë‹Œë‹¤.
            ì¹´ë‚˜ì˜¤Â·ì´ë…¸ìŠ¤ì¼€ê°€ í•©ë ¥í•˜ê³  ì‹œë…¸ë¶€ì˜ í¬ìƒìœ¼ë¡œ ê²¨ìš° ê²©íŒŒí•˜ëŠ” ì—­ëŒ€ê¸‰ ê°•ì .
          </p>
        </div>

        <div class="guide-card">
          <h2>ì•„ì¹´ì <span class="rank-badge">ìƒí˜„ å‚</span></h2>
          <p>
            <strong>ì˜¤ë¡œì§€ ê°•ìì™€ì˜ ì‹¸ì›€ë§Œì„ ì¶”êµ¬</strong>í•˜ëŠ” ì „íˆ¬ ê·€ì‹ . ì¸ê°„ ì‹œì ˆ ì´ë¦„ì€ í•«ì¼€ì´ì¥¬ë¡œë¡œ,
            ì•„ë²„ì§€ë¥¼ ìœ„í•´ ë„ë‘‘ì§ˆì„ í•˜ë‹¤ ê²€ì‚¬ ë„ì¥ì— ì…ë¬¸í•œ ë¶ˆìš°í•œ ê³¼ê±°ë¥¼ ê°€ì§„ë‹¤.
            ìˆ˜ë ¨ìœ¼ë¡œ ìŒ“ì€ ë¬´ìˆ ì´ ê·€ì‹ ì˜ í˜ê³¼ ê²°í•©í•œ íŒŒê´´ì  ì „íˆ¬ë ¥ì˜ ì†Œìœ ì.
            ì˜¨ëª¸ì— ìƒˆê²¨ì§„ ë¶‰ì€ ë¬¸ì‹ ê³¼ ê²©ë ¬í•œ ì „íˆ¬ ìŠ¤íƒ€ì¼ë¡œ íŒ¬ë“¤ì—ê²Œ ê°•ë ¬í•œ ì¸ìƒì„ ë‚¨ê²¼ë‹¤.
            íƒ„ì§€ë¡œì™€ì˜ ê²©ì „ì—ì„œ ì¸ê°„ ì‹œì ˆ ê¸°ì–µê³¼ ë§ˆì£¼í•˜ë©° ìŠ¤ìŠ¤ë¡œ ë¶•ê´´í•œë‹¤.
          </p>
        </div>

        <div class="guide-card">
          <h2>í•œí…êµ¬ <span class="rank-badge">ìƒí˜„ è‚†</span></h2>
          <p>
            ê·¹ë„ì˜ ê²ìŸì´ ê·€ì‹ ì´ì§€ë§Œ, <strong>ë‘ë ¤ì›€ì´ë¼ëŠ” ê°ì • ìì²´ê°€ ê°•ë ¥í•œ ë¶„ì‹ ì„ íƒ„ìƒ</strong>ì‹œí‚¨ë‹¤.
            ê³µí¬Â·ê¸°ì¨Â·ë¶„ë…¸Â·ìŠ¬í”” ë“± ê°ê°ì˜ ê°ì •ì´ ë…ë¦½ì ì¸ ê·€ì‹ ìœ¼ë¡œ ë¶„ì—´ë˜ì–´ ì‹¸ìš´ë‹¤.
            ë³¸ì²´ëŠ” ì˜¤íˆë ¤ ê°€ì¥ ì•½í•˜ì§€ë§Œ ëª¸ì„ ìˆ¨ê¸°ë©° ë¶„ì‹ ë“¤ë¡œ ì‹¸ìš°ëŠ” ì „ëµì„ êµ¬ì‚¬í•œë‹¤.
            ê·¹ë„ì˜ ê²ìŸì´ë¼ëŠ” ì„¤ì •ì´ ì—­ì„¤ì ìœ¼ë¡œ ê³µëµí•˜ê¸° ê°€ì¥ ê¹Œë‹¤ë¡œìš´ ìƒí˜„ ì¤‘ í•˜ë‚˜ë¡œ ë§Œë“¤ì—ˆë‹¤.
          </p>
        </div>

        <div class="guide-card">
          <h2>êµì½” <span class="rank-badge">ìƒí˜„ ä¼</span></h2>
          <p>
            ë¬¼ê³ ê¸° ì¸ê°„ì²˜ëŸ¼ ê¸°ì´í•œ ì™¸ëª¨ë¥¼ ì§€ë‹Œ ê·€ì‹ ìœ¼ë¡œ, <strong>ê·¹ë„ë¡œ ì¼ê·¸ëŸ¬ì§„ ë¯¸ì  ê°ê°</strong>ì„ ìë‘í•œë‹¤.
            ê±°ëŒ€í•œ í•­ì•„ë¦¬ë“¤ì„ ê·¼ê±°ì§€ë¡œ ì‚¼ì•„ ì´ë™í•˜ë©°, ë¬¼ê³ ê¸° í˜•íƒœì˜ í˜ˆê·€ìˆ  ì¡°ê°ë“¤ë¡œ ê³µê²©í•œë‹¤.
            ìì‹ ì˜ ì‘í’ˆì— ê·¹ë„ë¡œ ì§‘ì°©í•˜ë©° ìê¸° ë„ì·¨ì ì¸ ì„±ê²©ì„ ê°€ì§„ë‹¤.
            ë¬´ì´ì¹˜ë¡œ í† í‚¤í† ì™€ì˜ ê²©ì „ì—ì„œ ì“°ëŸ¬ì§€ì§€ë§Œ, ë…íŠ¹í•œ ë¹„ì£¼ì–¼ë¡œ íŒ¬ë“¤ì—ê²Œ ì˜¤ë˜ ê¸°ì–µë˜ëŠ” ìºë¦­í„°ë‹¤.
          </p>
        </div>

        <div class="guide-card">
          <h2>ê·œíƒ€ë¡œ &amp; ë‹¤í‚¤ <span class="rank-badge">ìƒí˜„ é™¸</span></h2>
          <p>
            <strong>ì˜¤ë¹  ê·œíƒ€ë¡œì™€ ì—¬ë™ìƒ ë‹¤í‚¤</strong>, ë‘ ê·€ì‹ ì´ í•˜ë‚˜ì˜ ìœ¡ì²´ë¥¼ ê³µìœ í•˜ëŠ” ë…íŠ¹í•œ êµ¬ì¡°.
            ê·œíƒ€ë¡œëŠ” ë…ì´ ë‹´ê¸´ ë‚«ìœ¼ë¡œ ì”í˜¹í•˜ê²Œ ì‹¸ìš°ë©°, ë‹¤í‚¤ëŠ” ì˜¤ë¹„(å¸¯)ë¼ ë¶ˆë¦¬ëŠ” ëŒ€í˜• ë ë¥¼ ì´ìš©í•œ í˜„ë€í•œ ê³µê²©ì„ í¼ì¹œë‹¤.
            ë‚¨ë§¤ëŠ” ì¸ê°„ ì‹œì ˆ ìœ í¥ê°€ì—ì„œ ê·¹ë„ë¡œ ë¹„ì°¸í•œ ì‚¶ì„ ì‚´ì•˜ìœ¼ë©°, ê·¸ ê³ í†µì´ ê·€ì‹ ì´ ëœ í›„ì—ë„
            ê°•ë ¥í•œ ìœ ëŒ€ê°ìœ¼ë¡œ ì´ì–´ì§„ë‹¤. íƒ„ì§€ë¡œÂ·ì  ì´ì¸ Â·ì´ë…¸ìŠ¤ì¼€ ì…‹ì´ í˜ì„ í•©ì³ ê²¨ìš° ì“°ëŸ¬ëœ¨ë¦¬ëŠ” ê°•ì .
          </p>
        </div>

      </div>

      <!-- AI ì‘ë™ ì›ë¦¬ -->
      <div class="guide-card">
        <h2>ğŸ§  AI ì‘ë™ ì›ë¦¬</h2>
        <p>
          ë³¸ ì„œë¹„ìŠ¤ëŠ” <strong>Google Teachable Machine</strong>ì„ ê¸°ë°˜ìœ¼ë¡œ í•™ìŠµëœ ë”¥ëŸ¬ë‹ ì´ë¯¸ì§€ ë¶„ë¥˜ ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
          TensorFlow.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ì§ì ‘ AI ì¶”ë¡ ì´ ì´ë£¨ì–´ì§€ë©°,
          ì‚¬ìš©ìì˜ ì´ë¯¸ì§€ëŠ” ì™¸ë¶€ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        </p>
        <p>
          ëª¨ë“  ì²˜ë¦¬ëŠ” ì‚¬ìš©ìì˜ ê¸°ê¸°(ë¸Œë¼ìš°ì €) ì•ˆì—ì„œë§Œ ì§„í–‰ë˜ë¯€ë¡œ ê°œì¸ ì •ë³´ê°€ ì™¸ë¶€ë¡œ ìœ ì¶œë  ìœ„í—˜ì´ ì—†ìŠµë‹ˆë‹¤.
          AI ëª¨ë¸ì€ ì–¼êµ´ í˜•íƒœ, ì´ëª©êµ¬ë¹„ ë¹„ìœ¨ ë“±ì˜ íŠ¹ì§•ì„ ë¶„ì„í•˜ì—¬ ì–´ë–¤ ìºë¦­í„°ì™€ ê°€ì¥ ìœ ì‚¬í•œ íŠ¹ì§•ì„ ê°€ì§€ëŠ”ì§€
          ìˆ˜ì¹˜í™”í•©ë‹ˆë‹¤. ê²°ê³¼ëŠ” <strong>ì¬ë¯¸ë¡œ ì¦ê¸°ëŠ” ì—”í„°í…Œì¸ë¨¼íŠ¸ ì½˜í…ì¸ </strong>ì´ë©°, ì§„ì§€í•œ ìƒì²´ì¸ì‹ ë„êµ¬ê°€ ì•„ë‹™ë‹ˆë‹¤.
        </p>
      </div>

      <!-- FAQ -->
      <div class="guide-card">
        <h2>â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
        <div class="faq-item">
          <p class="faq-q">Q. ì´¬ì˜ëœ ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ë‚˜ìš”?</p>
          <p class="faq-a">ì•„ë‹™ë‹ˆë‹¤. ëª¨ë“  ì´ë¯¸ì§€ ë¶„ì„ì€ ë¸Œë¼ìš°ì € ë‚´ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©°, ì„œë²„ë‚˜ ì™¸ë¶€ì— ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¶„ì„ì´ ëë‚˜ëŠ” ì¦‰ì‹œ ë°ì´í„°ëŠ” ì‚­ì œë©ë‹ˆë‹¤.</p>
        </div>
        <div class="faq-item">
          <p class="faq-q">Q. ë¶„ì„ ê²°ê³¼ê°€ í•­ìƒ ì •í™•í•œê°€ìš”?</p>
          <p class="faq-a">ë³¸ ì„œë¹„ìŠ¤ëŠ” AI ë”¥ëŸ¬ë‹ ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ë§Œ, ìˆœìˆ˜í•œ ì—”í„°í…Œì¸ë¨¼íŠ¸ ëª©ì ì˜ ì½˜í…ì¸ ì…ë‹ˆë‹¤. ê²°ê³¼ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ í™œìš©í•´ì£¼ì„¸ìš”. ì—¬ëŸ¬ ë²ˆ ì‹œë„í•˜ê±°ë‚˜ ë‹¤ì–‘í•œ ì‚¬ì§„ìœ¼ë¡œ í•´ë³´ë©´ ë” ì¬ë¯¸ìˆê²Œ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="faq-item">
          <p class="faq-q">Q. ëª¨ë°”ì¼ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œê°€ìš”?</p>
          <p class="faq-a">ë„¤, iOS Safariì™€ Android Chromeì—ì„œ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. 'ì´ë¯¸ì§€ ì—…ë¡œë“œ' íƒ­ì„ ì´ìš©í•˜ë©´ ê°¤ëŸ¬ë¦¬ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ê±°ë‚˜ ì¹´ë©”ë¼ë¡œ ë°”ë¡œ ì´¬ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="faq-item">
          <p class="faq-q">Q. ì–´ë–¤ ìºë¦­í„°ê°€ ë¶„ì„ ëŒ€ìƒì¸ê°€ìš”?</p>
          <p class="faq-a">ì½”ì¿ ì‹œë³´(ìƒí˜„ å£±), ë„ìš°ë§ˆ(ìƒí˜„ å¼), ì•„ì¹´ì(ìƒí˜„ å‚), í•œí…êµ¬(ìƒí˜„ è‚†), êµì½”(ìƒí˜„ ä¼), ê·œíƒ€ë¡œ/ë‹¤í‚¤(ìƒí˜„ é™¸) ì´ ìƒí˜„ 6ë“±ê¸‰ì˜ ìºë¦­í„°ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="faq-item">
          <p class="faq-q">Q. ì¹´ë©”ë¼ ê¶Œí•œì„ ê±°ë¶€í–ˆì–´ìš”.</p>
          <p class="faq-a">ì¹´ë©”ë¼ íƒ­ ëŒ€ì‹  'ì´ë¯¸ì§€ ì—…ë¡œë“œ' íƒ­ì„ ì´ìš©í•´ì£¼ì„¸ìš”. ì‚¬ì§„ íŒŒì¼ì„ ì§ì ‘ ì„ íƒí•˜ê±°ë‚˜ ë“œë˜ê·¸&amp;ë“œë¡­í•˜ì—¬ ë¶„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¹´ë©”ë¼ ê¶Œí•œì€ ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ì–¸ì œë“ ì§€ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        </div>
      </div>

    </section>

    <!-- Disqus ëŒ“ê¸€ -->
    <div class="disqus-wrap">
      <p class="disqus-title">ğŸ’¬ ëŒ“ê¸€ Â· Comments</p>
      <div id="disqus_thread"></div>
      <noscript>ëŒ“ê¸€ì„ ë³´ë ¤ë©´ JavaScriptë¥¼ í™œì„±í™”í•˜ì„¸ìš”. <a href="https://disqus.com/?ref_noscript">Disqusë¡œ ì œê³µë˜ëŠ” ëŒ“ê¸€</a></noscript>
    </div>

    <!-- í‘¸í„° -->
    <footer class="site-footer" style="width:100%;">
      <div class="footer-links">
        <a href="/">í™ˆ</a>
        <a href="/about.html">ì†Œê°œ</a>
        <a href="/privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a>
        <a href="/contact.html">ë¬¸ì˜í•˜ê¸°</a>
      </div>
      <div class="footer-copy">
        DEMON SLAYER Â· UPPER MOON ANALYZER<br>
        ë³¸ ì„œë¹„ìŠ¤ëŠ” Teachable Machine AIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤<br>
        ê·€ë©¸ì˜ ì¹¼ë‚  Â© å¾å³ å‘¼ä¸–æ™´ / é›†è‹±ç¤¾
      </div>
    </footer>

  </div><!-- /.wrapper -->

  <!-- â•â•â•â•â•â•â•â•â•â•â• JavaScript â•â•â•â•â•â•â•â•â•â•â• -->
  <script>
    // â”€â”€ ë„¤ë¹„ê²Œì´ì…˜ â”€â”€
    function toggleNav() {
      document.getElementById('nav-mobile').classList.toggle('open');
    }
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.site-nav')) {
        document.getElementById('nav-mobile').classList.remove('open');
      }
    });

    // â”€â”€ ìºë¦­í„° DB â”€â”€
    const CHARACTER_DB = {
      'ì½”ì¿ ì‹œë³´': { rank: 'ìƒí˜„ å£±', desc: 'ìµœê°•ì˜ ê·€ì‹ . ë‹¬ì˜ í˜¸í¡ì„ êµ¬ì‚¬í•˜ëŠ” ì ˆëŒ€ì. ì—¬ì„¯ ê°œì˜ ëˆˆê³¼ ì˜¨ëª¸ì˜ ì¹¼ë‚ ì´ íŠ¹ì§•.' },
      'ë„ìš°ë§ˆ':   { rank: 'ìƒí˜„ å¼', desc: 'ëƒ‰í˜¹í•œ ë¯¸ì†Œì˜ í—ˆë¬´ì£¼ì˜ì. íŒ¬ì„ ì´ìš©í•œ ëƒ‰ê¸° í˜ˆê·€ìˆ ì˜ ì‚¬ìš©ì. ì²œë¶€ì ì¸ ì•„ë¦„ë‹¤ì›€ì„ ì§€ë‹Œ ìƒí˜„.' },
      'ì•„ì¹´ì':   { rank: 'ìƒí˜„ å‚', desc: 'íŒŒê´´ì‚´ì˜ ë‹¬ì¸. ê°•ìì™€ì˜ ì „íˆ¬ë¥¼ ê°ˆë§í•˜ëŠ” ì „íˆ¬ ê·€ì‹ . ë¶ˆêµ´ì˜ ì˜ì§€ì™€ íŒŒê´´ì  ì „íˆ¬ë ¥ì˜ ì†Œìœ ì.' },
      'í•œí…êµ¬':   { rank: 'ìƒí˜„ è‚†', desc: 'ë‘ë ¤ì›€ìœ¼ë¡œ ë¶„ì‹ ì„ ë§Œë“œëŠ” ê·€ì‹ . ê²ìŸì´ì˜ ê³µí¬ê°€ ê°•ë ¥í•œ ë³µìˆ˜ì˜ ë¶„ì‹ ë“¤ì„ íƒ„ìƒì‹œí‚¨ë‹¤.' },
      'êµì½”':     { rank: 'ìƒí˜„ ä¼', desc: 'í•­ì•„ë¦¬ ì†ì— ê±°ì£¼í•˜ëŠ” ê¸°ì´í•œ ê·€ì‹ . ë…íŠ¹í•œ ë¯¸ì  ê°ê°ê³¼ ë¬¼ê³ ê¸° í˜ˆê·€ìˆ ì˜ ì†Œìœ ì.' },
      'ê·œíƒ€ë¡œ':   { rank: 'ìƒí˜„ é™¸ Â· ì˜¤ë¹ ', desc: 'ë‹¤í‚¤ì™€ ìœ¡ì²´ë¥¼ ê³µìœ í•˜ëŠ” ìƒí˜„. ë…ì´ ë‹´ê¸´ ë‚«ì„ íœ˜ë‘ë¥´ë©° ë…ê¸°ë¥¼ ë¿œì–´ë‚´ëŠ” ì”í˜¹í•œ ì „íˆ¬ì.' },
      'ë‹¤í‚¤':     { rank: 'ìƒí˜„ é™¸ Â· ì—¬ë™ìƒ', desc: 'ê·œíƒ€ë¡œì™€ ìœ¡ì²´ë¥¼ ê³µìœ í•˜ëŠ” ìƒí˜„. ì˜¤ë¹„ë¼ ë¶ˆë¦¬ëŠ” ëŒ€í˜• ë ë¥¼ ì´ìš©í•œ í˜„ë€í•œ ìˆ ì‹ì˜ ì‚¬ìš©ì.' },
    };

    function getCharInfo(className) {
      for (const [key, val] of Object.entries(CHARACTER_DB)) {
        if (className.includes(key) || key.includes(className)) {
          return { ...val, name: key };
        }
      }
      return { name: className, rank: 'ìƒí˜„ Â· ???', desc: 'ì•Œ ìˆ˜ ì—†ëŠ” ìƒí˜„ì˜ ê¸°ìš´ì´ ëŠê»´ì§‘ë‹ˆë‹¤...' };
    }

    // â”€â”€ TM ëª¨ë¸ â”€â”€
    const MODEL_URL = 'https://teachablemachine.withgoogle.com/models/crz4u0-De/';
    let model = null, webcam = null;
    let isRunning = false, currentTab = 'cam', uploadedImage = null;

    async function loadModel() {
      showLoading(true, 'ëª¨ë¸ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...');
      setStatus('AI ëª¨ë¸ì„ ë¡œë“œí•˜ê³  ìˆìŠµë‹ˆë‹¤...');
      try {
        model = await tmImage.load(MODEL_URL + 'model.json', MODEL_URL + 'metadata.json');
        setStatus('âœ… ì¤€ë¹„ ì™„ë£Œ â€” ì¹´ë©”ë¼ë¥¼ ì‹œì‘í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”');
        document.getElementById('start-btn').disabled = false;
        showLoading(false);
      } catch (e) {
        setStatus('âŒ ëª¨ë¸ ë¡œë“œ ì‹¤íŒ¨. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨ í•´ì£¼ì„¸ìš”.');
        showLoading(false);
        console.error(e);
      }
    }

    // â”€â”€ íƒ­ ì „í™˜ â”€â”€
    function switchTab(tab) {
      currentTab = tab;
      document.getElementById('tab-cam').classList.toggle('active', tab === 'cam');
      document.getElementById('tab-upload').classList.toggle('active', tab === 'upload');
      document.getElementById('scan-frame').style.display = tab === 'cam' ? 'block' : 'none';
      document.getElementById('upload-area').classList.toggle('active-tab', tab === 'upload');
      resetAll(false);
    }

    // â”€â”€ ì‹œì‘ ë²„íŠ¼ â”€â”€
    async function handleStart() {
      if (!model) return;
      if (currentTab === 'cam') await startWebcam();
      else await analyzeUploadedImage();
    }

    // â”€â”€ ì›¹ìº  â”€â”€
    async function startWebcam() {
      if (isRunning) { await snapAndPredict(); return; }
      try {
        setStatus('ì¹´ë©”ë¼ ì ‘ê·¼ ì¤‘...');
        webcam = new tmImage.Webcam(220, 220, true);
        await webcam.setup();
        await webcam.play();
        const container = document.getElementById('webcam-container');
        document.getElementById('cam-placeholder')?.remove();
        container.appendChild(webcam.canvas);
        isRunning = true;
        setScanAnimation(true);
        document.getElementById('start-btn').textContent = 'ğŸ“¸ ìŠ¤ëƒ…ìƒ· ì°ê¸°';
        setStatus('ì‹¤ì‹œê°„ ë¶„ì„ ì¤‘... ì–¼êµ´ì„ í”„ë ˆì„ì— ë§ì¶°ì£¼ì„¸ìš”');
        loop();
      } catch (e) {
        setStatus('âŒ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ ì—…ë¡œë“œ íƒ­ì„ ì´ìš©í•´ì£¼ì„¸ìš”.');
        console.error(e);
      }
    }

    async function loop() {
      if (!isRunning) return;
      webcam.update();
      await predict(webcam.canvas);
      requestAnimationFrame(loop);
    }

    async function snapAndPredict() {
      setScanAnimation(false);
      isRunning = false;
      if (webcam) { webcam.stop(); webcam = null; }
      document.getElementById('start-btn').textContent = 'âš¡ ë‹¤ì‹œ ì‹œì‘';
      setStatus('ë¶„ì„ ì™„ë£Œ!');
    }

    // â”€â”€ ì´ë¯¸ì§€ ì—…ë¡œë“œ â”€â”€
    function onFileSelect(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (ev) => {
        uploadedImage = new Image();
        uploadedImage.onload = () => {
          const prev = document.getElementById('preview-img');
          prev.src = ev.target.result;
          prev.style.display = 'block';
          setStatus('ì´ë¯¸ì§€ ì„ íƒ ì™„ë£Œ â€” ë¶„ì„ ì‹œì‘ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”');
        };
        uploadedImage.src = ev.target.result;
      };
      reader.readAsDataURL(file);
    }

    const uploadArea = document.getElementById('upload-area');
    uploadArea.addEventListener('dragover', e => { e.preventDefault(); uploadArea.style.borderColor = 'var(--gold)'; });
    uploadArea.addEventListener('dragleave', () => { uploadArea.style.borderColor = ''; });
    uploadArea.addEventListener('drop', e => {
      e.preventDefault();
      uploadArea.style.borderColor = '';
      const file = e.dataTransfer.files[0];
      if (file && file.type.startsWith('image/')) onFileSelect({ target: { files: [file] } });
    });

    async function analyzeUploadedImage() {
      if (!uploadedImage) { setStatus('âš ï¸ ë¨¼ì € ì´ë¯¸ì§€ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'); return; }
      setScanAnimation(true);
      await predict(uploadedImage);
      setScanAnimation(false);
    }

    // â”€â”€ ì˜ˆì¸¡ â”€â”€
    async function predict(imageEl) {
      if (!model) return;
      const predictions = await model.predict(imageEl);
      predictions.sort((a, b) => b.probability - a.probability);
      const top = predictions[0];
      const charInfo = getCharInfo(top.className);

      document.getElementById('result-name').textContent = charInfo.name;
      document.getElementById('result-rank').textContent = charInfo.rank;
      document.getElementById('result-desc').textContent = charInfo.desc;
      animateScore(Math.round(top.probability * 100));
      renderAllPredictions(predictions);

      const sec = document.getElementById('result-section');
      sec.style.display = 'block';
      sec.classList.add('show');
    }

    function animateScore(target) {
      const el = document.getElementById('result-score');
      let cur = 0;
      const step = target / 40;
      const t = setInterval(() => {
        cur = Math.min(cur + step, target);
        el.textContent = Math.round(cur) + '%';
        if (cur >= target) clearInterval(t);
      }, 20);
    }

    function renderAllPredictions(predictions) {
      const container = document.getElementById('label-container');
      container.innerHTML = '';
      predictions.forEach((p, i) => {
        const pct = (p.probability * 100).toFixed(1);
        const row = document.createElement('div');
        row.className = 'pred-row';

        const nameSpan = document.createElement('span');
        nameSpan.className = 'pred-name';
        nameSpan.textContent = p.className;

        const barWrap = document.createElement('div');
        barWrap.className = 'pred-bar-wrap';
        const bar = document.createElement('div');
        bar.className = 'pred-bar ' + (i === 0 ? 'top' : 'other');
        bar.dataset.pct = p.probability * 100;
        barWrap.appendChild(bar);

        const pctSpan = document.createElement('span');
        pctSpan.className = 'pred-pct' + (i === 0 ? ' top' : '');
        pctSpan.textContent = pct + '%';

        row.appendChild(nameSpan);
        row.appendChild(barWrap);
        row.appendChild(pctSpan);
        container.appendChild(row);
      });
      requestAnimationFrame(() => {
        document.querySelectorAll('.pred-bar').forEach(bar => {
          bar.style.width = bar.dataset.pct + '%';
        });
      });
    }

    // â”€â”€ ì´ˆê¸°í™” â”€â”€
    function resetAll(showMsg = true) {
      if (webcam) { try { webcam.stop(); } catch(e){} webcam = null; }
      isRunning = false;
      setScanAnimation(false);

      const container = document.getElementById('webcam-container');
      container.innerHTML = '';
      if (currentTab === 'cam') {
        container.innerHTML = `<div class="cam-placeholder" id="cam-placeholder">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
            <circle cx="12" cy="13" r="4"/>
          </svg>
          <span>ì¹´ë©”ë¼ë¥¼ ì‹œì‘í•˜ì„¸ìš”</span>
        </div>`;
      }

      uploadedImage = null;
      const prev = document.getElementById('preview-img');
      prev.src = ''; prev.style.display = 'none';
      document.getElementById('file-input').value = '';

      const sec = document.getElementById('result-section');
      sec.classList.remove('show'); sec.style.display = 'none';
      document.getElementById('label-container').innerHTML = '';

      document.getElementById('start-btn').textContent = 'âš¡ ë¶„ì„ ì‹œì‘';
      if (showMsg) setStatus(model ? 'âœ… ì¤€ë¹„ ì™„ë£Œ â€” ì¹´ë©”ë¼ë¥¼ ì‹œì‘í•˜ê±°ë‚˜ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”' : 'ëª¨ë¸ ì¤€ë¹„ ì¤‘...');
    }

    // â”€â”€ ìœ í‹¸ â”€â”€
    function setStatus(msg) { document.getElementById('status-msg').textContent = msg; }
    function showLoading(show, msg = '') {
      const el = document.getElementById('loading-overlay');
      el.classList.toggle('show', show);
      if (msg) el.querySelector('.loading-text').textContent = msg;
    }
    function setScanAnimation(on) {
      document.getElementById('scan-frame').classList.toggle('scanning', on);
    }

    // â”€â”€ Disqus â”€â”€
    var disqus_config = function () {
      this.page.url = window.location.href;
      this.page.identifier = '/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = 'https://sanylee.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();

    // â”€â”€ ë°°ê²½ íŒŒí‹°í´ â”€â”€
    (function() {
      const canvas = document.getElementById('bg-canvas');
      const ctx = canvas.getContext('2d');
      let W, H, particles = [];
      function resize() { W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; }
      resize(); window.addEventListener('resize', resize);
      class Particle {
        constructor() { this.reset(true); }
        reset(init) {
          this.x = Math.random() * W;
          this.y = init ? Math.random() * H : H + 10;
          this.size = Math.random() * 2 + 0.5;
          this.speedY = -(Math.random() * 0.6 + 0.2);
          this.speedX = (Math.random() - 0.5) * 0.3;
          this.opacity = Math.random() * 0.5 + 0.1;
          this.color = Math.random() > 0.5
            ? `rgba(192,57,43,${this.opacity})`
            : `rgba(240,192,64,${this.opacity * 0.6})`;
        }
        update() { this.x += this.speedX; this.y += this.speedY; if (this.y < -10) this.reset(); }
        draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fillStyle = this.color; ctx.fill(); }
      }
      for (let i = 0; i < 80; i++) particles.push(new Particle());
      (function animate() { ctx.clearRect(0,0,W,H); particles.forEach(p=>{p.update();p.draw();}); requestAnimationFrame(animate); })();
    })();

    // ì´ˆê¸° ì„¤ì •
    document.getElementById('scan-frame').style.display = 'block';
    loadModel();
  </script>
</body>
</html>
